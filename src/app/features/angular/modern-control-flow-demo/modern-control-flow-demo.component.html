<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
  <!-- Hero Header -->
  <div
    class="bg-white dark:bg-gray-900/50 backdrop-blur-sm border border-gray-200 dark:border-gray-800 rounded-2xl p-6 sm:p-8 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md slide-in-up">
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
      <div class="flex-1">
        <div class="flex items-center gap-3 mb-4">
          <div
            class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-gradient-to-br from-[var(--accent-gradient-from)] to-[var(--accent-gradient-to)] flex items-center justify-center shadow-lg">
            <ng-icon name="faSolidCodeBranch" class="text-white text-xl sm:text-2xl"></ng-icon>
          </div>
          <div>
            <span
              class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-[var(--accent-color)]/10 text-[var(--accent-color)]">Angular
              Topics</span>
          </div>
        </div>
        <h1
          class="text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-[var(--accent-gradient-from)] to-[var(--accent-gradient-to)] bg-clip-text text-transparent mb-4">
          Modern Control Flow
        </h1>
        <p class="text-base sm:text-lg text-gray-600 dark:text-gray-400 leading-relaxed">
          Explore Angular's built-in control flow (&#64;if, &#64;for, &#64;switch) which provides a more
          intuitive and performant way to handle conditional rendering and loops.
        </p>
      </div>
      <div class="hidden lg:block">
        <div
          class="w-32 h-32 rounded-2xl bg-[var(--accent-color)]/10 dark:bg-[var(--accent-color)]/20 flex items-center justify-center backdrop-blur-sm border border-[var(--accent-color)]/20">
          <ng-icon name="faSolidDiagramProject" class="text-6xl text-accent"></ng-icon>
        </div>
      </div>
    </div>
  </div>

  <!-- Interactive Demo -->
  <p-card styleClass="p-0 overflow-hidden border-none bg-transparent shadow-none slide-in-up">
    <div
      class="bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-800 rounded-2xl p-4 sm:p-6 lg:p-8 transition-all duration-300 shadow-sm">
      <div class="flex items-center gap-3 mb-8">
        <div
          class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--accent-gradient-from)] to-[var(--accent-gradient-to)] flex items-center justify-center shadow-md">
          <ng-icon name="faSolidCirclePlay" class="text-white"></ng-icon>
        </div>
        <h2 class="text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100">Interactive Demo</h2>
      </div>

      <p-tabs [value]="activeTab()" (valueChange)="activeTab.set($event?.toString() ?? '0')" class="w-full">
        <p-tablist class="flex flex-wrap gap-2 mb-8 border-b dark:border-gray-800">
          <p-tab [value]="'0'" class="flex items-center gap-2">
            <ng-icon name="faSolidQuestion" class="text-accent"></ng-icon>
            <span class="text-sm sm:text-base font-semibold">&#64;if / &#64;else</span>
          </p-tab>
          <p-tab [value]="'1'" class="flex items-center gap-2">
            <ng-icon name="faSolidList" class="text-accent"></ng-icon>
            <span class="text-sm sm:text-base font-semibold">&#64;for / &#64;empty</span>
          </p-tab>
          <p-tab [value]="'2'" class="flex items-center gap-2">
            <ng-icon name="faSolidToggleOn" class="text-accent"></ng-icon>
            <span class="text-sm sm:text-base font-semibold">&#64;switch</span>
          </p-tab>
          <p-tab [value]="'3'" class="flex items-center gap-2">
            <ng-icon name="faSolidCode" class="text-accent"></ng-icon>
            <span class="text-sm sm:text-base font-semibold">Code</span>
          </p-tab>
        </p-tablist>

        <p-tabpanels class="pt-2">
          <!-- &#64;if / &#64;else Demo -->
          <p-tabpanel [value]="'0'">
            <div
              class="bg-gray-50/50 dark:bg-gray-800/20 rounded-2xl p-6 border border-gray-200 dark:border-gray-700/50 border-l-4 border-l-[var(--accent-color)]">
              <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-3">
                  <ng-icon name="faSolidCircleQuestion" class="text-accent text-xl"></ng-icon>
                  <h3 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100">Conditional Rendering
                  </h3>
                </div>
                <p-toggleButton [ngModel]="showContent()" (ngModelChange)="showContent.set($event)" onLabel="Visible"
                  offLabel="Hidden" [onIcon]="'pi pi-eye'" [offIcon]="'pi pi-eye-slash'" />
              </div>

              <div
                class="min-h-[120px] flex items-center justify-center bg-white dark:bg-gray-900 rounded-xl border border-dashed border-gray-300 dark:border-gray-700">
                @if (showContent()) {
                <div class="text-center animate-fade-in py-8">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-[var(--accent-color)]/10 text-[var(--accent-color)] mb-4">
                    <ng-icon name="faSolidCircleCheck" class="text-3xl"></ng-icon>
                  </div>
                  <p class="text-lg font-medium text-gray-900 dark:text-gray-100 italic">Content is now visible!</p>
                </div>
                } @else {
                <div class="text-center animate-fade-in py-8 text-gray-400 dark:text-gray-500">
                  <ng-icon name="faSolidGhost" class="text-3xl mb-4 opacity-50"></ng-icon>
                  <p class="text-lg">Content is hidden</p>
                </div>
                }
              </div>
            </div>
          </p-tabpanel>

          <!-- &#64;for / &#64;empty Demo -->
          <p-tabpanel [value]="'1'">
            <div
              class="bg-gray-50/50 dark:bg-gray-800/20 rounded-2xl p-6 border border-gray-200 dark:border-gray-700/50 border-l-4 border-l-[var(--accent-color)]">
              <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-3">
                  <ng-icon name="faSolidListUl" class="text-accent text-xl"></ng-icon>
                  <h3 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100">List Rendering</h3>
                </div>
                <div class="flex gap-2">
                  <p-button label="Add Item" icon="faSolidPlus" (onClick)="addItem()" size="small" />
                  <p-button label="Clear All" icon="faSolidTrash" severity="danger" (onClick)="clearItems()"
                    size="small" />
                </div>
              </div>

              <div class="space-y-3">
                @for (item of items(); track item.id; let first = $first; let last = $last; let index = $index) {
                <div
                  class="flex items-center justify-between p-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm hover:border-[var(--accent-color)]/30 transition-all"
                  [class.border-l-4]="first || last" [class.border-l-[var(--accent-color)]]="first"
                  [class.border-l-[var(--accent-color-light)]]="last">
                  <div class="flex items-center gap-3">
                    <span class="text-gray-400 font-mono text-sm w-6">#{{ index + 1 }}</span>
                    <span class="text-gray-900 dark:text-gray-100 font-medium">{{ item.name }}</span>
                    @if (first) { <span class="text-[10px] uppercase font-bold text-accent">First</span> }
                    @if (last) { <span class="text-[10px] uppercase font-bold text-accent-light">Last</span> }
                  </div>
                  <p-button icon="faSolidXmark" [text]="true" severity="danger" (onClick)="removeItem(item.id)" />
                </div>
                } @empty {
                <div
                  class="text-center py-12 bg-white dark:bg-gray-900 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 animate-fade-in">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-400 mb-4">
                    <ng-icon name="faSolidInbox" class="text-3xl"></ng-icon>
                  </div>
                  <p class="text-gray-500 dark:text-gray-400 font-medium">The list is current empty.</p>
                  <p class="text-sm text-gray-400 mt-1">Add items using the button above.</p>
                </div>
                }
              </div>
            </div>
          </p-tabpanel>

          <!-- &#64;switch Demo -->
          <p-tabpanel [value]="'2'">
            <div
              class="bg-gray-50/50 dark:bg-gray-800/20 rounded-2xl p-6 border border-gray-200 dark:border-gray-700/50 border-l-4 border-l-[var(--accent-color)]">
              <div class="flex items-center gap-3 mb-8">
                <ng-icon name="faSolidToggleOn" class="text-accent text-xl"></ng-icon>
                <h3 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100">State Switching</h3>
              </div>

              <div class="flex flex-col items-center space-y-8">
                <p-selectButton [options]="userRoles()" [ngModel]="currentRole()"
                  (ngModelChange)="currentRole.set($event)" />

                <div
                  class="w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm transition-all text-center min-h-[220px] flex flex-col justify-center">
                  @switch (currentRole()) {
                  @case ('admin') {
                  <div class="animate-fade-in group">
                    <div
                      class="w-20 h-20 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-3xl shadow-lg mx-auto mb-6 group-hover:scale-110 transition-transform">
                      <ng-icon name="faSolidUserShield"></ng-icon>
                    </div>
                    <h4 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2">Administrator Access</h4>
                    <p class="text-gray-500 dark:text-gray-400">Full system permissions granted.</p>
                  </div>
                  }
                  @case ('editor') {
                  <div class="animate-fade-in group">
                    <div
                      class="w-20 h-20 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-3xl shadow-lg mx-auto mb-6 group-hover:scale-110 transition-transform">
                      <ng-icon name="faSolidUserPen"></ng-icon>
                    </div>
                    <h4 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2">Editor Access</h4>
                    <p class="text-gray-500 dark:text-gray-400">Content management permissions granted.</p>
                  </div>
                  }
                  @case ('viewer') {
                  <div class="animate-fade-in group">
                    <div
                      class="w-20 h-20 rounded-2xl bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white text-3xl shadow-lg mx-auto mb-6 group-hover:scale-110 transition-transform">
                      <ng-icon name="faSolidUser"></ng-icon>
                    </div>
                    <h4 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2">Viewer Access</h4>
                    <p class="text-gray-500 dark:text-gray-400">Read-only permissions granted.</p>
                  </div>
                  }
                  @default {
                  <div class="text-gray-400 dark:text-gray-600 py-4 italic animate-pulse">
                    <ng-icon name="faSolidUserSlash" class="text-4xl mb-4"></ng-icon>
                    <p class="text-xl">No role selected</p>
                  </div>
                  }
                  }
                </div>
              </div>
            </div>
          </p-tabpanel>

          <!-- Code Templates -->
          <p-tabpanel [value]="'3'">
            <div
              class="bg-gray-50/50 dark:bg-gray-800/20 rounded-2xl p-6 border border-gray-200 dark:border-gray-700/50 border-l-4 border-l-[var(--accent-color)]">
              <div class="flex items-center gap-3 mb-8">
                <ng-icon name="faSolidCode" class="text-accent text-xl"></ng-icon>
                <h3 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100">Syntax Comparison</h3>
              </div>

              <div class="space-y-8">
                <div>
                  <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-blue-500"></span>Conditional Rendering (&#64;if)
                  </h4>
                  <div
                    class="bg-gray-900 rounded-xl p-6 overflow-x-auto text-sm text-gray-300 font-mono shadow-2xl transition-all hover:ring-2 hover:ring-blue-500/30">
                    <pre><code>&#64;if (isLoggedIn) &#123;
  &lt;p&gt;Welcome back!&lt;/p&gt;
&#125; &#64;else if (isPending) &#123;
  &lt;p&gt;Validating...&lt;/p&gt;
&#125; &#64;else &#123;
  &lt;p&gt;Please log in.&lt;/p&gt;
&#125;</code></pre>
                  </div>
                </div>

                <div>
                  <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-purple-500"></span>Loops (&#64;for)
                  </h4>
                  <div
                    class="bg-gray-900 rounded-xl p-6 overflow-x-auto text-sm text-gray-300 font-mono shadow-2xl transition-all hover:ring-2 hover:ring-purple-500/30">
                    <pre><code>&#64;for (user of users; track user.id; let first = $first) &#123;
  &lt;li [class.active]="first"&gt;{{ '{' }}{{ '{' }} user.name {{ '}' }}{{ '}' }}&lt;/li&gt;
&#125; &#64;empty &#123;
  &lt;li&gt;No users found&lt;/li&gt;
&#125;</code></pre>
                  </div>
                </div>

                <div>
                  <h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-orange-500"></span>Switch Blocks (&#64;switch)
                  </h4>
                  <div
                    class="bg-gray-900 rounded-xl p-6 overflow-x-auto text-sm text-gray-300 font-mono shadow-2xl transition-all hover:ring-2 hover:ring-orange-500/30">
                    <pre><code>&#64;switch (status) &#123;
  &#64;case ('active') &#123; &lt;span class="text-green-500"&gt;Active&lt;/span&gt; &#125;
  &#64;case ('inactive') &#123; &lt;span class="text-red-500"&gt;Inactive&lt;/span&gt; &#125;
  &#64;default &#123; &lt;span class="text-gray-500"&gt;Unknown&lt;/span&gt; &#125;
&#125;</code></pre>
                  </div>
                </div>
              </div>
            </div>
          </p-tabpanel>
        </p-tabpanels>
      </p-tabs>
    </div>
  </p-card>

  <!-- Key Takeaways -->
  <div
    class="bg-white dark:bg-gray-900/50 backdrop-blur-sm border border-gray-200 dark:border-gray-800 rounded-2xl p-6 sm:p-8 transition-all duration-300 shadow-sm hover:shadow-md slide-in-up">
    <div class="flex items-center gap-3 mb-8">
      <div
        class="w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--accent-gradient-from)] to-[var(--accent-gradient-to)] flex items-center justify-center shadow-md">
        <ng-icon name="faSolidGraduationCap" class="text-white"></ng-icon>
      </div>
      <h2 class="text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100">Key Takeaways</h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div
        class="bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700/50 p-4 rounded-xl flex items-start gap-4 transition-all hover:border-[var(--accent-color)]/30 group">
        <div
          class="w-8 h-8 rounded-full bg-[var(--accent-color)]/10 text-[var(--accent-color)] flex items-center justify-center shrink-0 group-hover:bg-[var(--accent-color)] group-hover:text-white transition-colors">
          <ng-icon name="faSolidCheck" class="text-sm"></ng-icon>
        </div>
        <p class="text-gray-800 dark:text-gray-200 font-medium pt-1">New control flow is more performant than *ngIf and
          *ngFor</p>
      </div>
      <div
        class="bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700/50 p-4 rounded-xl flex items-start gap-4 transition-all hover:border-[var(--accent-color)]/30 group">
        <div
          class="w-8 h-8 rounded-full bg-[var(--accent-color)]/10 text-[var(--accent-color)] flex items-center justify-center shrink-0 group-hover:bg-[var(--accent-color)] group-hover:text-white transition-colors">
          <ng-icon name="faSolidCheck" class="text-sm"></ng-icon>
        </div>
        <p class="text-gray-800 dark:text-gray-200 font-medium pt-1">The &#64;empty block simplifies handling empty
          lists in
          &#64;for</p>
      </div>
      <div
        class="bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700/50 p-4 rounded-xl flex items-start gap-4 transition-all hover:border-[var(--accent-color)]/30 group">
        <div
          class="w-8 h-8 rounded-full bg-[var(--accent-color)]/10 text-[var(--accent-color)] flex items-center justify-center shrink-0 group-hover:bg-[var(--accent-color)] group-hover:text-white transition-colors">
          <ng-icon name="faSolidCheck" class="text-sm"></ng-icon>
        </div>
        <p class="text-gray-800 dark:text-gray-200 font-medium pt-1">Built-in track by property is mandatory and
          improves DOM management</p>
      </div>
      <div
        class="bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700/50 p-4 rounded-xl flex items-start gap-4 transition-all hover:border-[var(--accent-color)]/30 group">
        <div
          class="w-8 h-8 rounded-full bg-[var(--accent-color)]/10 text-[var(--accent-color)] flex items-center justify-center shrink-0 group-hover:bg-[var(--accent-color)] group-hover:text-white transition-colors">
          <ng-icon name="faSolidCheck" class="text-sm"></ng-icon>
        </div>
        <p class="text-gray-800 dark:text-gray-200 font-medium pt-1">Syntax is more concise and easier to read without
          [brackets] and (parentheses)</p>
      </div>
    </div>
  </div>
</div>