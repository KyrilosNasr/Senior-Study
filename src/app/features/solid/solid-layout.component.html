<div class="flex min-h-screen">
  <!-- Sidebar Component -->
  <app-sidebar
    [config]="sidebarConfig"
    [treeNodes]="treeNodes"
    [sidebarVisible]="sidebarVisible"
    (nodeSelect)="onNodeSelect($event)"
  ></app-sidebar>

  <!-- Main Content - with dynamic margin for sidebar -->
  <main [class]="'flex-1 flex flex-col transition-all duration-300 ' + mainContentClass()">
    <!-- Mobile Header -->
    <header class="lg:hidden glass sticky top-0 z-30 shadow-modern p-4 flex items-center justify-between gap-3">
      <button
        pButton
        type="button"
        icon="pi pi-bars"
        (click)="toggleSidebar()"
        class="p-button-text p-button-rounded hover:bg-gray-100 dark:hover:bg-gray-700"
        aria-label="Open menu"
      ></button>
      <h1 class="text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 flex-1 text-center truncate">
        SOLID Principles
      </h1>
      <app-theme-toggle></app-theme-toggle>
    </header>

    <!-- Desktop Header -->
    <header class="hidden lg:flex items-center justify-between px-8 xl:px-12 pt-6 pb-4 glass sticky top-0 z-30 shadow-sm">
      <div class="flex items-center gap-4">
        <div class="w-2 h-8 bg-gradient-to-b from-accent-light to-accent-dark rounded-full"></div>
        <div>
          <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">SOLID Principles</h1>
          <p class="text-sm text-gray-600 dark:text-gray-400">Master the fundamentals of clean code</p>
        </div>
      </div>
      <app-theme-toggle></app-theme-toggle>
    </header>

    <!-- Content Area -->
    <div [class]="'flex-1 p-4 sm:p-6 lg:p-8 xl:p-12 text-gray-900 dark:text-gray-100 ' + contentGradient() + ' min-h-[calc(100vh-5rem)]'">
      <div class="fade-in">
        <router-outlet></router-outlet>
      </div>
    </div>

    <!-- Footer -->
    <footer class="hidden lg:block glass border-t border-gray-200/50 dark:border-gray-700/50 py-6 px-8 xl:px-12">
      <div class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400">
        <p>Â© 2024 Angular Study Project. Built with Angular 20 & Tailwind CSS.</p>
        <div class="flex items-center gap-4">
          <a href="https://github.com" target="_blank" rel="noopener" class="hover:text-accent transition-colors">
            <i class="fab fa-github text-lg"></i>
          </a>
          <a href="https://angular.dev" target="_blank" rel="noopener" class="hover:text-accent transition-colors">
            <i class="fab fa-angular text-lg"></i>
          </a>
        </div>
      </div>
    </footer>
  </main>
</div>

