import{u as D}from"./chunk-BO564T5E.js";import{Ca as N,Ga as I,Nc as z,Oc as M,Qc as l,fa as c,gc as P,ha as o,hb as C,la as y,nb as b,p as v,pa as w}from"./chunk-6P3ZW5D6.js";import{a as g,f as u}from"./chunk-6HR7AMTL.js";function _(t){return t==null?"":/^\d+$/.test(t)?`${t}px`:t}var E=new c("Ng Icon Pre Processor"),k=new c("Ng Icon Post Processor");function A(){return o(E,{optional:!0})??(t=>t)}function S(){return o(k,{optional:!0})??(()=>{})}var T=new c("Ng Icon Logger"),d=class{log(n){console.log(n)}warn(n){console.warn(n)}error(n){console.error(n)}};function j(){return o(T,{optional:!0})??new d}var L=new c("Ng Icon Config");function R(){return o(L,{optional:!0})??{}}var V=new c("Ng Icon Loader Token");var G=new c("Ng Icon Cache Token");function O(){return o(V,{optional:!0})}function H(){return o(G,{optional:!0})}function le(t){return[{provide:f,useFactory:(n=o(f,{optional:!0,skipSelf:!0}))=>g(g({},n?.reduce((p,e)=>g(g({},p),e),{})),t),multi:!0}]}var f=new c("Icons Token");function F(){return o(f,{optional:!0})??[]}function $(t){return typeof t=="string"?Promise.resolve(t):v(t)?t.toPromise():t}function q(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(n,p,e)=>e?e.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,n=>n.toLowerCase())}var x=0,ge=(()=>{let n=class n{constructor(){this.config=R(),this.icons=F(),this.loader=O(),this.cache=H(),this.preProcessor=A(),this.postProcessor=S(),this.injector=o(w),this.renderer=o(C),this.platform=o(I),this.elementRef=o(N),this.uniqueId=x++,this.logger=j(),this.name=l(),this.svg=l(),this.size=l(this.config.size,{transform:_}),this.strokeWidth=l(this.config.strokeWidth),this.color=l(this.config.color),z(()=>this.updateIcon()),o(new M("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return u(this,null,function*(){let e=this.name(),i=this.svg();if(i!==void 0){this.setSvg(i);return}if(e===void 0)return;let r=q(e);for(let s of[...this.icons].reverse())if(s[r]){this.setSvg(s[r]);return}if(this.loader){let s=yield this.requestIconFromLoader(e);if(s!==null){this.setSvg(s);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(D(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let i=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(i,"innerHTML",this.preProcessor(e)),this.svgElement=i.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let i=/ID_PLACEHOLDER_(\d+)/g,r=new Map,s=new Set(e.match(i));if(s===null)return e;for(let a of s){let h=a.replace("ID_PLACEHOLDER_",""),m=`ng-icon-${this.uniqueId}-${r.size}`;r.set(h,m),e=e.replace(new RegExp(a,"g"),m)}return e}requestIconFromLoader(e){return new Promise(i=>{y(this.injector,()=>u(this,null,function*(){if(this.cache){let a=this.cache.get(e);if(typeof a=="string"){i(a);return}if(a instanceof Promise){let h=yield a;i(h);return}}let r=$(this.loader(e));this.cache?.set(e,r);let s=yield r;this.cache?.set(e,s),i(s)}))})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=b({type:n,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(i,r){i&2&&P("--ng-icon__stroke-width",r.strokeWidth())("--ng-icon__size",r.size())("--ng-icon__color",r.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(i,r){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0});let t=n;return t})();export{le as a,ge as b};
