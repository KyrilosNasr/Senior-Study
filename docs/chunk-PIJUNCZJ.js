import{a as G,b as K,c as Y,d as Q,e as C}from"./chunk-2WC7VJ7V.js";import{a as W}from"./chunk-FUDWZOUA.js";import{a as X}from"./chunk-SAY762UV.js";import"./chunk-DKUAOVGB.js";import{a as J,b as H}from"./chunk-LHCEPMUJ.js";import"./chunk-JX3V5ZT5.js";import"./chunk-XLEJIGYJ.js";import"./chunk-ARO7SQ5Z.js";import"./chunk-MA6FGDBM.js";import"./chunk-2USCA55J.js";import"./chunk-QDOOO3RU.js";import"./chunk-3DC6BNIH.js";import"./chunk-AWYD6WCW.js";import"./chunk-XTBDY7WG.js";import"./chunk-42MSCVNE.js";import"./chunk-4UXUI4FZ.js";import"./chunk-PYCTJV3C.js";import"./chunk-MXBZIN3S.js";import"./chunk-SYS6JVAO.js";import"./chunk-IAGI55XL.js";import"./chunk-WL3GUFCA.js";import"./chunk-4XAVTQOD.js";import"./chunk-QNFUOYYO.js";import"./chunk-Z44BU5J4.js";import"./chunk-4O3FVBGX.js";import"./chunk-7F3YVZD6.js";import"./chunk-54PGZSHQ.js";import{Aa as q,r as j}from"./chunk-4KSQBOQ2.js";import"./chunk-FPPZ4BUR.js";import{Hb as O,Ib as F,J as R,Jb as u,Kb as D,Lb as k,Mb as B,Mc as A,Tb as L,W as _,X as E,Xb as z,Za as m,Zb as w,ca as c,g as v,ha as l,ma as h,n as M,na as y,nb as P,tc as V,va as I}from"./chunk-IOSF2A54.js";import{a as g,b as T}from"./chunk-6HR7AMTL.js";var s=class a{users=[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",status:"active",createdAt:new Date("2024-01-15")},{id:2,name:"Jane Smith",email:"jane@example.com",role:"User",status:"active",createdAt:new Date("2024-02-20")},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"User",status:"inactive",createdAt:new Date("2024-03-10")},{id:4,name:"Alice Williams",email:"alice@example.com",role:"Moderator",status:"active",createdAt:new Date("2024-01-05")},{id:5,name:"Charlie Brown",email:"charlie@example.com",role:"User",status:"active",createdAt:new Date("2024-04-12")},{id:6,name:"David Miller",email:"david@example.com",role:"Admin",status:"active",createdAt:new Date("2024-05-01")},{id:7,name:"Eva Davis",email:"eva@example.com",role:"User",status:"inactive",createdAt:new Date("2024-05-15")},{id:8,name:"Frank Wilson",email:"frank@example.com",role:"Moderator",status:"active",createdAt:new Date("2024-06-02")},{id:9,name:"Grace Lee",email:"grace@example.com",role:"User",status:"active",createdAt:new Date("2024-06-20")},{id:10,name:"Henry Taylor",email:"henry@example.com",role:"User",status:"active",createdAt:new Date("2024-07-05")},{id:11,name:"Ivy Martin",email:"ivy@example.com",role:"Moderator",status:"active",createdAt:new Date("2024-07-15")},{id:12,name:"Jack Anderson",email:"jack@example.com",role:"User",status:"inactive",createdAt:new Date("2024-08-01")},{id:13,name:"Kelly White",email:"kelly@example.com",role:"Admin",status:"active",createdAt:new Date("2024-08-10")},{id:14,name:"Liam Harris",email:"liam@example.com",role:"User",status:"active",createdAt:new Date("2024-08-20")},{id:15,name:"Mia Clark",email:"mia@example.com",role:"User",status:"active",createdAt:new Date("2024-09-01")}];products=[{id:1,name:"Laptop",category:"Electronics",price:999.99,stock:15,rating:4.5},{id:2,name:"Smartphone",category:"Electronics",price:699.99,stock:8,rating:4.8},{id:3,name:"Headphones",category:"Electronics",price:199.99,stock:25,rating:4.2},{id:4,name:"T-Shirt",category:"Clothing",price:29.99,stock:50,rating:4},{id:5,name:"Jeans",category:"Clothing",price:79.99,stock:30,rating:4.3},{id:6,name:"Book",category:"Books",price:19.99,stock:100,rating:4.7}];orders=[{id:1,orderNumber:"ORD-001",product:"Laptop",quantity:1,amount:999.99,status:"completed",orderDate:new Date("2024-01-20"),userId:1},{id:2,orderNumber:"ORD-002",product:"Mouse",quantity:2,amount:49.98,status:"completed",orderDate:new Date("2024-01-25"),userId:1},{id:3,orderNumber:"ORD-003",product:"Keyboard",quantity:1,amount:79.99,status:"pending",orderDate:new Date("2024-02-01"),userId:1},{id:4,orderNumber:"ORD-004",product:"Smartphone",quantity:1,amount:699.99,status:"completed",orderDate:new Date("2024-02-15"),userId:2},{id:5,orderNumber:"ORD-005",product:"Headphones",quantity:1,amount:199.99,status:"completed",orderDate:new Date("2024-02-20"),userId:2},{id:6,orderNumber:"ORD-006",product:"T-Shirt",quantity:3,amount:89.97,status:"cancelled",orderDate:new Date("2024-03-05"),userId:2},{id:7,orderNumber:"ORD-007",product:"Book",quantity:5,amount:99.95,status:"completed",orderDate:new Date("2024-03-10"),userId:3},{id:8,orderNumber:"ORD-008",product:"Jeans",quantity:2,amount:159.98,status:"pending",orderDate:new Date("2024-03-12"),userId:3},{id:9,orderNumber:"ORD-009",product:"Laptop",quantity:1,amount:999.99,status:"completed",orderDate:new Date("2024-01-10"),userId:4},{id:10,orderNumber:"ORD-010",product:"Monitor",quantity:2,amount:599.98,status:"completed",orderDate:new Date("2024-01-18"),userId:4},{id:11,orderNumber:"ORD-011",product:"Webcam",quantity:1,amount:129.99,status:"pending",orderDate:new Date("2024-04-01"),userId:5},{id:12,orderNumber:"ORD-012",product:"USB Drive",quantity:4,amount:79.96,status:"completed",orderDate:new Date("2024-04-05"),userId:5}];getUsers(){return[...this.users]}getProducts(){return[...this.products]}getOrdersByUserId(e){return this.orders.filter(t=>t.userId===e)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=c({token:a,factory:a.\u0275fac})};var p=class a{dataService=l(s);modalService=l(J);toastService=l(C);getUsersTableConfig(){return{columns:[{field:"id",header:"ID",sortable:!0,width:"80px",editable:!0,editorType:"number"},{field:"name",header:"Name",sortable:!0,filterable:!0,editable:!0,editorType:"text"},{field:"email",header:"Email",sortable:!0,filterable:!0,editable:!0,editorType:"text"},{field:"role",header:"Role",sortable:!0,filterable:!0,filterType:"select",filterOptions:[{label:"Admin",value:"Admin"},{label:"User",value:"User"},{label:"Moderator",value:"Moderator"}],formatter:e=>{let t={Admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",Moderator:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",User:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return`<span class="px-2 py-1 rounded-full text-xs font-semibold ${t[e]||t.User}">${e}</span>`}},{field:"status",header:"Status",sortable:!0,filterable:!0,filterType:"select",filterOptions:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],formatter:e=>`<span class="px-2 py-1 rounded-full text-xs font-semibold ${e==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}">${e==="active"?"Active":"Inactive"}</span>`},{field:"createdAt",header:"Created",sortable:!0,formatter:e=>new Date(e).toLocaleDateString()}],data:this.dataService.getUsers(),pagination:!0,rowsPerPage:5,rowsPerPageOptions:[5,10,25],sortMode:"multiple",globalFilter:!0,advancedFilter:!0,selection:{enabled:!0,mode:"multiple",checkbox:!0},columnResize:{enabled:!0,mode:"fit"},columnReorder:{enabled:!0},rowExpansion:{enabled:!0},rowEditing:{enabled:!0,mode:"row",onSave:e=>{this.toastService.success("Row saved successfully!","Saved")},onCancel:e=>{}},rowReorder:{enabled:!0,onReorder:e=>{}},stripedRows:!0,showGridlines:!1,size:"normal",actions:this.getUserActions(),actionMenuIcon:"pi pi-ellipsis-v",exportable:!0,exportFileName:"users",responsive:!0}}getProductsTableConfig(){return{columns:[{field:"id",header:"ID",sortable:!0,width:"80px"},{field:"name",header:"Product Name",sortable:!0,filterable:!0},{field:"category",header:"Category",sortable:!0,filterable:!0},{field:"price",header:"Price",sortable:!0,align:"right",formatter:e=>`$${e.toFixed(2)}`},{field:"stock",header:"Stock",sortable:!0,align:"right",formatter:e=>{let t=e;return t>10?`<span class="font-semibold text-gray-900 dark:text-gray-100">${t}</span>`:`<span class="px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400">${t} (Low)</span>`}},{field:"rating",header:"Rating",sortable:!0,align:"center",formatter:e=>{let t=e;return`<div class="flex items-center justify-center gap-1">
              <span class="font-semibold text-yellow-600 dark:text-yellow-400">${"\u2B50".repeat(Math.floor(t))}</span>
              <span class="text-sm text-gray-600 dark:text-gray-400">${t}</span>
            </div>`}}],data:this.dataService.getProducts(),pagination:!0,rowsPerPage:10,sortMode:"single",globalFilter:!0,advancedFilter:!1,exportable:!0,exportFileName:"products",columnResize:{enabled:!0,mode:"expand"},stripedRows:!0,showGridlines:!0,size:"normal",responsive:!0}}getUserActions(){return[{label:"View Details",icon:"pi pi-eye",severity:"info",handler:e=>{let t=`Name: ${e.name}
Email: ${e.email}
Role: ${e.role}
Status: ${e.status}
Created: ${new Date(e.createdAt).toLocaleDateString()}`;this.modalService.info("User Details",t)}},{label:"Edit",icon:"pi pi-pencil",severity:"primary",handler:e=>{this.toastService.info(`Click the Edit button in the Edit column to edit ${e.name}`,"Edit User")}},{label:"Duplicate",icon:"pi pi-copy",severity:"secondary",handler:e=>{this.toastService.success(`User ${e.name} duplicated successfully`,"Duplicated")}},{label:"Separator",handler:()=>{}},{label:"Activate",icon:"pi pi-check-circle",severity:"success",visible:e=>e.status==="inactive",handler:e=>{e.status="active",this.toastService.success(`${e.name} has been activated`,"User Activated")}},{label:"Deactivate",icon:"pi pi-times-circle",severity:"warn",visible:e=>e.status==="active",handler:e=>{e.status="inactive",this.toastService.warn(`${e.name} has been deactivated`,"User Deactivated")}},{label:"Separator",handler:()=>{}},{label:"Delete",icon:"pi pi-trash",severity:"danger",visible:e=>e.role!=="Admin",confirmDialog:!0,confirmTitle:"Delete User",confirmMessage:e=>`Are you sure you want to delete ${e.name}? This action cannot be undone.`,confirmLabel:"Delete",cancelLabel:"Cancel",handler:e=>{this.toastService.success(`User ${e.name} has been deleted`,"User Deleted")}}]}static \u0275fac=function(t){return new(t||a)};static \u0275prov=c({token:a,factory:a.\u0275fac})};var b=class a{dataService=l(s);getNestedTableData(e){let t=e;return this.dataService.getOrdersByUserId(t.id)}getNestedTableConfig(e){let t=e;return{columns:[{field:"orderNumber",header:"Order #",sortable:!0,filterable:!0,width:"120px"},{field:"product",header:"Product",sortable:!0,filterable:!0},{field:"quantity",header:"Quantity",sortable:!0,filterable:!0,filterType:"number",align:"right",width:"100px"},{field:"amount",header:"Amount",sortable:!0,filterable:!0,filterType:"number",align:"right",formatter:r=>`$${r.toFixed(2)}`,width:"120px"},{field:"status",header:"Status",sortable:!0,filterable:!0,filterType:"select",filterOptions:[{label:"Pending",value:"pending"},{label:"Completed",value:"completed"},{label:"Cancelled",value:"cancelled"}],formatter:r=>{let n=r,o={completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},S=o[n]||o.pending,f=n.charAt(0).toUpperCase()+n.slice(1);return`<span class="px-2 py-1 rounded-full text-xs font-semibold ${S}">${f}</span>`},width:"120px"},{field:"orderDate",header:"Order Date",sortable:!0,filterable:!0,filterType:"date",formatter:r=>new Date(r).toLocaleDateString(),width:"130px"}],data:this.getNestedTableData(t),pagination:!1,sortMode:"multiple",globalFilter:!0,advancedFilter:!0,stripedRows:!0,showGridlines:!1,size:"small",responsive:!0}}static \u0275fac=function(t){return new(t||a)};static \u0275prov=c({token:a,factory:a.\u0275fac})};var Z=[s,p,b];var x=class{constructor(e,t={}){this.callback=e;this.filter=g({data:{},pageNumber:0,pageSize:10},t)}filter;items=[];count=0;filteredCount=0;isLoading=!1;refresh$=new v;filter$=new v;stoppingSignal=new v;start(){this.filter$.pipe(E(this.stoppingSignal),_(e=>(e&&(this.filter.pageNumber=0),this.isLoading=!0,this.refresh$.next(),this.callback(this.filter)))).subscribe(e=>{this.items=e.items,this.count=e.count,this.filteredCount=e.filteredCount,this.isLoading=!1,this.refresh$.next()}),this.filter$.next(!1)}stop(){this.stoppingSignal.next(),this.stoppingSignal.complete()}};var ie=(a,e)=>e.id;function oe(a,e){if(a&1){let t=L();D(0,"app-demo-tabpanel",3)(1,"app-demo-section",4)(2,"app-dynamic-table",5),z("tableEvent",function(n){h(t);let o=w();return y(o.onTableEvent(n))})("rowClick",function(n){h(t);let o=w();return y(o.onRowClick(n))})("selectionChange",function(n){h(t);let o=w();return y(o.onSelectionChange(n))}),k()()()}if(a&2){let t=e.$implicit,r=e.$index;u("value",r.toString()),m(),u("title",t.title)("description",t.description),m(),u("config",t.config)("getNestedTableData",t.getNestedTableData)("getNestedTableConfig",t.getNestedTableConfig)}}var ee=class a{configService=l(p);nestedTableService=l(b);serverSideController=new x(e=>{let t=["John Doe","Jane Smith","Bob Johnson","Alice Williams","Charlie Brown","David Miller","Eva Davis","Frank Wilson","Grace Lee","Henry Taylor"],r=["Admin","Editor","Viewer","Manager"],n=["Engineering","Marketing","Sales","HR","Finance"],o=Array.from({length:100}).map((d,i)=>({id:i+1,name:`${t[i%t.length]} ${Math.floor(i/10)||""}`.trim(),email:`user${i+1}@example.com`,status:i%3===0?"active":i%3===1?"inactive":"pending",role:r[i%r.length],department:n[i%n.length],createdAt:new Date(2024,0,1+i%31),orders_count:Math.floor(Math.random()*20)}));if(e.orderBy){let d=e.orderBy.field,i=e.orderBy.direction==="asc"?1:-1;o.sort((re,ae)=>{let $=re[d],U=ae[d];return $<U?-1*i:$>U?1*i:0})}if(e.data?.keyword){let d=e.data.keyword.toLowerCase();o=o.filter(i=>i.name.toLowerCase().includes(d)||i.email.toLowerCase().includes(d))}let S=o.length,f=e.pageNumber*e.pageSize,te=o.slice(f,f+e.pageSize);return M({items:te,count:100,filteredCount:S}).pipe(R(800))},{pageSize:10});usersConfig=this.configService.getUsersTableConfig();productsConfig=this.configService.getProductsTableConfig();serverSideConfig=I({lazy:!0,columns:[{field:"id",header:"ID",sortable:!0,width:"70px",align:"center"},{field:"name",header:"Name",sortable:!0,filterable:!0,editable:!0},{field:"email",header:"Email",sortable:!0,filterable:!0,editable:!0},{field:"role",header:"Role",sortable:!0,filterable:!0,filterType:"select",filterOptions:[{label:"Admin",value:"Admin"},{label:"Editor",value:"Editor"},{label:"Viewer",value:"Viewer"},{label:"Manager",value:"Manager"}],formatter:e=>`<span class="px-2 py-0.5 rounded-full text-xs font-medium ${{Admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",Editor:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",Manager:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}">${e}</span>`},{field:"status",header:"Status",filterable:!0,filterType:"select",filterOptions:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Pending",value:"pending"}],formatter:e=>`<span class="px-2 py-0.5 rounded-full text-xs font-medium ${{active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}[e]||"bg-gray-100"}">${String(e).toUpperCase()}</span>`},{field:"createdAt",header:"Registered",sortable:!0,formatter:e=>e?new Date(e).toLocaleDateString():"-"}],data:[],totalRecords:0,loading:!1,pagination:!0,advancedFilter:!0,globalFilter:!0,exportable:!0,rowsPerPage:10,rowsPerPageOptions:[10,20,50],selection:{enabled:!0,mode:"multiple",checkbox:!0},rowExpansion:{enabled:!0},rowEditing:{enabled:!0,mode:"row"},actions:[{label:"View",icon:"pi pi-eye",handler:e=>{}},{label:"Delete",icon:"pi pi-trash",severity:"danger",confirmDialog:!0,confirmMessage:e=>`Delete ${e.name}?`,handler:e=>{}}]});featureBadges=[{label:"Icon Menu Actions",icon:"pi pi-ellipsis-v",color:"blue"},{label:"Advanced Filtering",icon:"pi pi-filter",color:"green"},{label:"Column Resize",icon:"pi pi-arrows-h",color:"purple"},{label:"Column Reorder",icon:"pi pi-bars",color:"orange"},{label:"Row Expansion",icon:"pi pi-chevron-down",color:"pink"},{label:"Cell Editing",icon:"pi pi-pencil",color:"teal"},{label:"Column Toggle",icon:"pi pi-list",color:"indigo"},{label:"Export CSV",icon:"pi pi-download",color:"yellow"}];demoTables=A(()=>[{id:"users",title:"Users Table",description:"A comprehensive table demonstrating all available features including icon menu actions, column resizing, reordering, row expansion, advanced filtering, and more.",icon:"pi-users",badge:"Full Features",badgeColor:"blue",config:this.usersConfig,getNestedTableData:this.nestedTableService.getNestedTableData.bind(this.nestedTableService),getNestedTableConfig:this.nestedTableService.getNestedTableConfig.bind(this.nestedTableService)},{id:"products",title:"Products Table",description:"A simpler table configuration with column resizing, gridlines, and basic filtering enabled.",icon:"pi-shopping-bag",config:this.productsConfig},{id:"server-side",title:"Server-Side Table",description:"Demonstrating integration with TableController for lazy loading, server-side pagination, and remote data fetching.",icon:"pi-server",badge:"TableController",badgeColor:"purple",config:this.serverSideConfig(),getNestedTableData:this.nestedTableService.getNestedTableData.bind(this.nestedTableService),getNestedTableConfig:this.nestedTableService.getNestedTableConfig.bind(this.nestedTableService)}]);constructor(){this.serverSideController.refresh$.subscribe(()=>{this.serverSideConfig.set(T(g({},this.serverSideConfig()),{data:this.serverSideController.items,totalRecords:this.serverSideController.count,loading:this.serverSideController.isLoading&&this.serverSideController.items.length===0}))}),setTimeout(()=>this.serverSideController.start(),0)}tabs=A(()=>this.demoTables().map((e,t)=>({value:t.toString(),label:e.title,icon:e.icon,badge:e.badge,badgeColor:e.badgeColor})));onTableEvent(e){if(this.serverSideConfig().lazy)switch(e.type){case"page":e.page!==void 0&&e.page-1!==this.serverSideController.filter.pageNumber&&Promise.resolve().then(()=>{this.serverSideController.filter.pageNumber=(e.page||1)-1,this.serverSideController.filter.pageSize=e.rows||10,this.serverSideController.filter$.next(!1)});break;case"sort":(e.field!==this.serverSideController.filter.orderBy?.field||(e.order===1?"asc":"desc")!==this.serverSideController.filter.orderBy?.direction)&&Promise.resolve().then(()=>{this.serverSideController.filter.orderBy={field:e.field||"",direction:e.order===1?"asc":"desc"},this.serverSideController.filter$.next(!0)});break;case"filter":typeof e.data=="string"&&e.data!==this.serverSideController.filter.data?.keyword&&Promise.resolve().then(()=>{this.serverSideController.filter.data=T(g({},this.serverSideController.filter.data),{keyword:e.data}),this.serverSideController.filter$.next(!0)});break}}onRowClick(e){}onSelectionChange(e){}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=P({type:a,selectors:[["app-dynamic-table-demo"]],features:[V([q,C,...Z])],decls:7,vars:3,consts:[[1,"space-y-6"],["title","Dynamic Table Component","description","A fully customizable, feature-rich table component built with PrimeNG Table. Includes all advanced features like sorting, filtering, pagination, row selection, column management, row expansion, cell editing, and more.",3,"badges"],[3,"tabs","initialValue"],[3,"value"],[3,"title","description"],[3,"tableEvent","rowClick","selectionChange","config","getNestedTableData","getNestedTableConfig"]],template:function(t,r){t&1&&(D(0,"div",0),B(1,"app-dynamic-modal")(2,"app-toast")(3,"app-demo-header",1),D(4,"app-demo-tabs",2),O(5,oe,3,6,"app-demo-tabpanel",3,ie),k()()),t&2&&(m(3),u("badges",r.featureBadges),m(),u("tabs",r.tabs())("initialValue",0),m(),F(r.demoTables()))},dependencies:[j,X,H,G,W,Y,K,Q],encapsulation:2,changeDetection:0})};export{ee as DynamicTableDemoComponent};
