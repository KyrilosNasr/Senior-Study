import{b as M,e as D,i as _,p as N,s as R,t as B}from"./chunk-JMY276AL.js";import{a as Q}from"./chunk-RVXGMZMS.js";import"./chunk-KDOOMALM.js";import{a as P,b as L,c as j,d as O,e as W,f as q,g as A}from"./chunk-OAZ4ZSRP.js";import"./chunk-2VTPWLFV.js";import{p as I}from"./chunk-FHCI6K3X.js";import"./chunk-FPPZ4BUR.js";import{$b as C,Db as w,G as E,Hb as k,Ma as m,Nb as f,Ob as g,Pb as x,Xb as i,Yb as v,Zb as d,ab as S,ac as T,bc as V,ma as u,na as c,s as b,ub as t,va as o,vb as e,wb as a,z as y}from"./chunk-S2MQBBOY.js";import"./chunk-6HR7AMTL.js";var F=["searchInput"],H=["scrollContainer"],Y=class h{searchInput;scrollContainer;searchValue=o("");debouncedValue=o("");throttledValue=o("");sampledValue=o("");scrollPosition=o(0);throttledScroll=o(0);debouncedScroll=o(0);violationCode=`
// \u274C VIOLATION: No Rate Limiting
// High-frequency events cause performance issues

fromEvent(input, 'input').subscribe(event => {
  // Called on EVERY keystroke - too many API calls!
  this.search(event.target.value);
});

fromEvent(window, 'scroll').subscribe(() => {
  // Called on EVERY scroll event - performance killer!
  this.updatePosition(window.scrollY);
});
`;solutionCode=`
// \u2705 SOLUTION: Rate Limiting Operators
// Control frequency of emissions

// Debounce: Wait for pause in emissions
fromEvent(input, 'input').pipe(
  debounceTime(300), // Wait 300ms after last keystroke
  map(e => e.target.value)
).subscribe(value => {
  this.search(value); // Only called after user stops typing
});

// Throttle: Emit first, then ignore for duration
fromEvent(window, 'scroll').pipe(
  throttleTime(100), // Max once per 100ms
  map(() => window.scrollY)
).subscribe(position => {
  this.updatePosition(position);
});

// Sample: Emit latest at intervals
fromEvent(document, 'mousemove').pipe(
  sampleTime(200), // Sample every 200ms
  map((e: MouseEvent) => ({ x: e.clientX, y: e.clientY }))
).subscribe(position => {
  this.trackMouse(position);
});
`;ngAfterViewInit(){this.searchInput?.nativeElement&&y(this.searchInput.nativeElement,"input").pipe(E(300),b(r=>r.target.value)).subscribe(r=>{this.debouncedValue.set(r)})}testThrottle(){let r=0,l=setInterval(()=>{r++,this.throttledValue.set(`Event ${r}`),r>=10&&clearInterval(l)},50)}static \u0275fac=function(l){return new(l||h)};static \u0275cmp=S({type:h,selectors:[["app-backpressure-demo"]],viewQuery:function(l,n){if(l&1&&(f(F,5),f(H,5)),l&2){let s;g(s=x())&&(n.searchInput=s.first),g(s=x())&&(n.scrollContainer=s.first)}},decls:125,vars:6,consts:[["searchInput",""],[1,"container-responsive","space-y-responsive"],[1,"card-modern","padding-responsive","hover-lift","slide-in-up"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-6"],[1,"flex-1"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-12","h-12","sm:w-14","sm:h-14","rounded-xl","bg-gradient-to-br","from-purple-500","to-pink-600","flex","items-center","justify-center","shadow-lg"],[1,"fas","fa-tachometer-alt","text-white","text-xl","sm:text-2xl"],[1,"badge-modern","text-xs","sm:text-sm"],[1,"heading-responsive","text-gradient","mb-4"],[1,"text-responsive","text-gray-700","dark:text-gray-300"],[1,"hidden","lg:block"],[1,"w-32","h-32","rounded-2xl","bg-gradient-to-br","from-purple-500/20","to-pink-600/20","flex","items-center","justify-center"],[1,"fas","fa-tachometer-alt","text-6xl","text-purple-500"],[1,"card-modern","hover-lift","slide-in-up"],[1,"padding-responsive","space-y-6"],[1,"w-10","h-10","rounded-lg","bg-gradient-to-br","from-blue-500","to-purple-600","flex","items-center","justify-center"],[1,"fas","fa-lightbulb","text-white"],[1,"subheading-responsive","text-gray-900","dark:text-gray-100"],[1,"text-responsive","text-gray-700","dark:text-gray-300","leading-relaxed"],[1,"glass","rounded-xl","p-6","border-l-4","border-accent"],[1,"fas","fa-star","text-accent","text-xl"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-gray-100"],[1,"list-modern"],[1,"text-sm","sm:text-base","text-gray-800","dark:text-gray-200"],[1,"padding-responsive"],[1,"flex","items-center","gap-3","mb-6"],[1,"w-10","h-10","rounded-lg","bg-gradient-to-br","from-green-500","to-teal-600","flex","items-center","justify-center"],[1,"fas","fa-code","text-white"],["value","0"],[1,"flex","flex-wrap","gap-2","mb-6"],["value","0",1,"flex","items-center","gap-2"],[1,"fas","fa-times-circle","text-red-500"],[1,"text-sm","sm:text-base","font-semibold"],["value","1",1,"flex","items-center","gap-2"],[1,"fas","fa-check-circle","text-green-500"],[1,"code-block-modern"],[1,"overflow-x-auto","text-sm","sm:text-base"],["value","1"],[1,"w-10","h-10","rounded-lg","bg-gradient-to-br","from-purple-500","to-pink-600","flex","items-center","justify-center"],[1,"fas","fa-play-circle","text-white"],[1,"space-y-8"],[1,"border-2","border-gray-200","dark:border-gray-700","rounded-lg","p-5"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-200","mb-4"],[1,"text-sm","text-lg","text-gray-700","dark:text-gray-300","leading-relaxed","mb-2"],["pInputText","","type","text","placeholder","Type to search...",1,"w-full","mb-2",3,"ngModelChange","ngModel"],[1,"bg-gray-100","dark:bg-gray-700","p-5","rounded"],["label","Generate Rapid Events","icon","pi pi-bolt",1,"mb-4",3,"buttonClick"],[1,"w-10","h-10","rounded-lg","bg-gradient-to-br","from-teal-500","to-cyan-600","flex","items-center","justify-center"],[1,"fas","fa-graduation-cap","text-white"]],template:function(l,n){if(l&1){let s=w();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),a(6,"i",7),e(),t(7,"div")(8,"span",8),i(9,"RxJS Patterns"),e()()(),t(10,"h1",9),i(11," Backpressure & Rate Limiting "),e(),t(12,"p",10),i(13," Controlling the frequency of emissions to handle high-frequency events efficiently. "),e()(),t(14,"div",11)(15,"div",12),a(16,"i",13),e()()()(),t(17,"p-card",14)(18,"div",15)(19,"div",5)(20,"div",16),a(21,"i",17),e(),t(22,"h2",18),i(23,"What is Backpressure?"),e()(),t(24,"p",19),i(25," Backpressure occurs when a producer emits values faster than a consumer can process them. Rate limiting operators help control this flow. "),e(),t(26,"div",20)(27,"div",5),a(28,"i",21),t(29,"h3",22),i(30,"Rate Limiting Operators"),e()(),t(31,"ul",23)(32,"li",24)(33,"strong"),i(34,"debounceTime:"),e(),i(35," Wait for pause, then emit latest "),e(),t(36,"li",24)(37,"strong"),i(38,"throttleTime:"),e(),i(39," Emit first, then ignore for duration "),e(),t(40,"li",24)(41,"strong"),i(42,"sampleTime:"),e(),i(43," Emit latest value at intervals "),e(),t(44,"li",24)(45,"strong"),i(46,"auditTime:"),e(),i(47," Wait for source to complete, emit latest "),e()()()()(),t(48,"p-card",14)(49,"div",25)(50,"div",26)(51,"div",27),a(52,"i",28),e(),t(53,"h2",18),i(54,"Code Examples"),e()(),t(55,"p-tabs",29)(56,"p-tablist",30)(57,"p-tab",31),a(58,"i",32),t(59,"span",33),i(60,"Violation"),e()(),t(61,"p-tab",34),a(62,"i",35),t(63,"span",33),i(64,"Solution"),e()()(),t(65,"p-tabpanels")(66,"p-tabpanel",29)(67,"div",36)(68,"pre",37)(69,"code"),i(70),e()()()(),t(71,"p-tabpanel",38)(72,"div",36)(73,"pre",37)(74,"code"),i(75),e()()()()()()()(),t(76,"p-card",14)(77,"div",25)(78,"div",5)(79,"div",39),a(80,"i",40),e(),t(81,"h2",18),i(82,"Interactive Demo"),e()(),t(83,"div",41)(84,"div",42)(85,"h3",43),i(86,"Debounce (Search Input)"),e(),t(87,"p",44),i(88," Type quickly - notice the debounced value only updates after you stop typing for 300ms "),e(),t(89,"input",45,0),V("ngModelChange",function(p){return u(s),T(n.searchValue,p)||(n.searchValue=p),c(p)}),e(),t(91,"div",46)(92,"p")(93,"strong"),i(94,"Current:"),e(),i(95),e(),t(96,"p")(97,"strong"),i(98,"Debounced (300ms):"),e(),i(99),e()()(),t(100,"div",42)(101,"h3",43),i(102,"Throttle"),e(),t(103,"app-enhanced-button",47),k("buttonClick",function(){return u(s),c(n.testThrottle())}),e(),t(104,"div",46)(105,"p")(106,"strong"),i(107,"Throttled Value:"),e(),i(108),e()()()()()(),t(109,"p-card",14)(110,"div",25)(111,"div",26)(112,"div",48),a(113,"i",49),e(),t(114,"h2",18),i(115,"Key Takeaways"),e()(),t(116,"ul",23)(117,"li",24),i(118," Use debounceTime for search inputs and form validation "),e(),t(119,"li",24),i(120," Use throttleTime for scroll events and mouse movements "),e(),t(121,"li",24),i(122," Use sampleTime when you need periodic updates "),e(),t(123,"li",24),i(124," Choose appropriate delay times based on use case "),e()()()()()}l&2&&(m(70),v(n.violationCode),m(5),v(n.solutionCode),m(14),C("ngModel",n.searchValue),m(6),d(" ",n.searchValue()),m(4),d(" ",n.debouncedValue()),m(9),d(" ",n.throttledValue()))},dependencies:[I,L,P,A,O,j,W,q,Q,B,R,N,M,D,_],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})};export{Y as BackpressureDemoComponent};
